# FAQ


## AimRT 对比 ROS2 有何优势和劣势？

**AimRT 体系对比 ROS2 体系的优势**：

- 【**轻量**】AimRT 非常轻量，约5万行代码，依赖较少，适配多种操作系统，易于部署集成。ROS2 较为冗重，超过数十万行代码，依赖很多，构建编译自成体系，官方只在少数几个操作系统上维护，部署集成很麻烦。
- 【**设计更现代**】AimRT 在资源管控、异步编程、部署配置等许多方面都吸取了很多现代、且主流的设计思想，可保证在未来多年之内不会过时。
- 【**支持更多底层通信方式**】AimRT 和 ROS2 都不做底层通信，通信层交给插件。但 ROS2 只支持 DDS，主要用在端上相互通信。AimRT 支持的插件更多更灵活，包括 ROS2 后端、Http 后端、Mqtt 后端等，覆盖常见的端、云通信场景。
- 【**对云、AI领域支持较好**】AimRT 从上层通信接口、底层通信方式上都对云、AI 领域支持的更好，例如支持 Protobuf 做为接口协议，兼容 HTTP、Mqtt 等。而 ROS2 主要用于较底层的机器人运控、Slam 领域。
- 【**兼容ROS2**】AimRT 支持 ROS2 协议和 ROS2 插件，可以和原生 ROS2 模块通信，兼容所有 ROS2 生态模块。


**AimRT 体系对比 ROS2 体系的劣势**：

- 【**生态少**】ROS2 的周边生态组件非常多，很多算法在开发时都需要依赖这些组件。AimRT 兼容 ROS2 能在一定程度上缓解这个劣势，但完全消除这个劣势还需要较长时间的积累。
- 【**部分语法比较新**】AimRT 提供了基于 C++20 协程的异步接口，这部分比较新的 C++ 特性需要一定的学习成本。
- 【**文档、测试比较欠缺**】AimRT 还处于快速迭代阶段，文档还在不断完善，各种测试也在不断补充，但要达到比较完善全面的阶段还需要时间。


## AimRT 如何兼容 ROS2 ？

AimRT 对 ROS2 的兼容包括2个方面：

- 【**业务逻辑层的兼容**】：兼容 ROS2 的协议；
- 【**运行时的兼容**】：能够和原生 ROS2 节点通信；

AimRT 官方支持 ROS2 协议，只需要打开指定的 CMake Option 并引用特定的 CMake Target，即可在逻辑层面非常自然的使用 ROS2 作为 RPC、Channel 的消息类型。但此时，AimRT 节点之间的底层通信可能并不是基于 ROS2，这将根据配置的 RPC、Channel 后端决定，可能是 Mqtt、Tcp 或者 Http 等。


AimRT 官方还支持 ROS2（Humble）插件，此插件提供了 ROS2 的 RPC 和 Channel 后端，对外通过 ROS2 进行通信，在外界看来这个 AimRT 节点就是一个 ROS2 Node。它们将基于以下原则工作：

- 如果上层逻辑层使用 ROS2 协议，那么它们会将消息采用原生 ROS2 的形式发送出去，外部 ROS2 节点直接基于原生的 ROS2 协议即可与 AimRT 节点通信。
- 如果上层逻辑层使用的是非 ROS2 协议，例如 Protobuf，那么它们会将消息序列化到一个特殊的 ROS2 协议中，外部 ROS2 节点需要订阅这个特殊协议，并从中反序列化得到正真的 Protobuf 消息。


注意，截至当前最新版本，暂时还不支持与 ROS2 Action 的兼容。

